generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model monster {
  id            Int               @unique @default(autoincrement())
  type          String
  species       String
  rarity        String
  name          String
  url           String
  hp            Int
  ap            Int
  inventory     inventory[]
  shop          Shop[]
}

model user {
  id            Int                 @unique @default(autoincrement())
  username      String              @unique
  password      String
  role          String              @default("BASIC_USER")
  createdAt     DateTime            @default(now())
  currency      Int                 @default(1000)
  inventory     inventory[]
}

model inventory {
  id        Int         @id @default(autoincrement())
  user      user        @relation(fields: [userId], references: [id])
  userId    Int
  monster   monster     @relation(fields: [monsterId], references: [id])
  monsterId Int
  // You can add more fields to the inventory model as needed, such as quantity or capture date.
}

model Shop {
  id              String    @unique
  monsterId       Int       // Reference to the monster in the shop
  price           Int       // Price of each monster
  isAvailable     Boolean   @default(true) // Indicates whether the monster is available for sale

  // Relation to the Monster model
  monster         monster   @relation(fields: [monsterId], references: [id])

  // Timestamps for when the record was created and last updated
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}